{
  "hash": "89917cc8dd35da89ffd4d0c3fed9b249",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Assignment 1-2\"\n---\n\n## Introduction\n\nI am examining a large fertility related dataset\n\n## Setup\n\n------------------------------------------------------------------------\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.6\n✔ forcats   1.0.1     ✔ stringr   1.6.0\n✔ ggplot2   4.0.1     ✔ tibble    3.3.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.2\n✔ purrr     1.2.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\nlibrary(ggformula)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: scales\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\nLoading required package: ggiraph\nLoading required package: ggridges\n\nNew to ggformula?  Try the tutorials: \n\tlearnr::run_tutorial(\"introduction\", package = \"ggformula\")\n\tlearnr::run_tutorial(\"refining\", package = \"ggformula\")\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n:::\n\n\n## Loading the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_1 <- read_csv(\"../Data/Fertility.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 254654 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (6): morekids, gender1, gender2, afam, hispanic, other\ndbl (3): rownames, age, work\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nFertility_1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 254,654 × 9\n   rownames morekids gender1 gender2   age afam  hispanic other  work\n      <dbl> <chr>    <chr>   <chr>   <dbl> <chr> <chr>    <chr> <dbl>\n 1        1 no       male    female     27 no    no       no        0\n 2        2 no       female  male       30 no    no       no       30\n 3        3 no       male    female     27 no    no       no        0\n 4        4 no       male    female     35 yes   no       no        0\n 5        5 no       female  female     30 no    no       no       22\n 6        6 no       male    female     26 no    no       no       40\n 7        7 no       female  male       29 no    no       no        0\n 8        8 no       male    male       33 no    no       no       52\n 9        9 no       female  male       29 no    no       no        0\n10       10 no       male    female     27 no    no       no        0\n# ℹ 254,644 more rows\n```\n\n\n:::\n:::\n\n\n## Inspecting the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(Fertility_1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 254,654\nColumns: 9\n$ rownames <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ morekids <chr> \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ gender1  <chr> \"male\", \"female\", \"male\", \"male\", \"female\", \"male\", \"female\",…\n$ gender2  <chr> \"female\", \"male\", \"female\", \"female\", \"female\", \"female\", \"ma…\n$ age      <dbl> 27, 30, 27, 35, 30, 26, 29, 33, 29, 27, 28, 28, 35, 34, 32, 2…\n$ afam     <chr> \"no\", \"no\", \"no\", \"yes\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", …\n$ hispanic <chr> \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ other    <chr> \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"…\n$ work     <dbl> 0, 30, 0, 0, 22, 40, 0, 52, 0, 0, 0, 52, 52, 52, 8, 7, 0, 40,…\n```\n\n\n:::\n:::\n\n\n## Data Munging\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_modified <- Fertility_1 %>% \n  \n  mutate(\n    morekids = as.factor(morekids),\n    gender1 = as.factor(gender1),\n    gender2 = as_factor(gender2),\n    afam = as.factor(afam),\n    hispanic = as.factor(hispanic),\n    other = as.factor(other)\n  ) %>% \n  \n  dplyr::relocate(where(is.factor), .after = rownames)\n```\n:::\n\n\nComments- The dataset in Fertility_1 is assigned to Fertility_modified so that the original dataset is not affected while modifying the data in the program. The variables morekids, gender1, gender2, afam, hispanic and other are converted from character variables to factor variables. The factor variables are all shifted to start of the table after rownames, after which the rest of the variables (age and work) follow.\n\n## Data Dictionary\n\nQuantitative Data-\n\nage (dbl): Ages of married women with 2 or more children,\n\nwork (dbl): Number of weeks the married women worked in 1979\n\nQualitative Data-\n\nmorekids (fct): Does the married woman have more than 2 children?,\n\ngender1 (fct): Gender of the first child,\n\ngender2 (fct): Gender of the second child,\n\nafam (fct): Is the married woman African-American?,\n\nhispanic (fct): Is the married woman Hispanic?,\n\nother (fct): Is the married woman something other than African-American and Hispanic\n\n## Summarising the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskimr::skim(Fertility_modified)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |                   |\n|:------------------------|:------------------|\n|Name                     |Fertility_modified |\n|Number of rows           |254654             |\n|Number of columns        |9                  |\n|_______________________  |                   |\n|Column type frequency:   |                   |\n|factor                   |6                  |\n|numeric                  |3                  |\n|________________________ |                   |\n|Group variables          |None               |\n\n\n**Variable type: factor**\n\n|skim_variable | n_missing| complete_rate|ordered | n_unique|top_counts               |\n|:-------------|---------:|-------------:|:-------|--------:|:------------------------|\n|morekids      |         0|             1|FALSE   |        2|no: 157742, yes: 96912   |\n|gender1       |         0|             1|FALSE   |        2|mal: 130984, fem: 123670 |\n|gender2       |         0|             1|FALSE   |        2|mal: 130523, fem: 124131 |\n|afam          |         0|             1|FALSE   |        2|no: 241498, yes: 13156   |\n|hispanic      |         0|             1|FALSE   |        2|no: 235757, yes: 18897   |\n|other         |         0|             1|FALSE   |        2|no: 240306, yes: 14348   |\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|      mean|       sd| p0|      p25|      p50|      p75|   p100|hist  |\n|:-------------|---------:|-------------:|---------:|--------:|--:|--------:|--------:|--------:|------:|:-----|\n|rownames      |         0|             1| 127327.50| 73512.42|  1| 63664.25| 127327.5| 190990.8| 254654|▇▇▇▇▇ |\n|age           |         0|             1|     30.39|     3.39| 21|    28.00|     31.0|     33.0|     35|▁▃▅▇▇ |\n|work          |         0|             1|     19.02|    21.87|  0|     0.00|      5.0|     44.0|     52|▇▁▁▁▃ |\n\n\n:::\n:::\n\n\nComments- The mean age of the married women is approxiamately 30.4 and the standard deviation is approxiamately 3.4 which means most women are around this age. The mean number of weeks the married women have worked for in 1979 is approxiamately 19 weeks and the standard deviation is approxiamately 22 which means there are very dirrent working hours of each women with some not working at all and some working much more than 19 weeks.\n\n## Visualising number of married women\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_modified %>% \n  gf_bar( ~ morekids, color = \"orange\", fill = \"pink\") %>% \n  gf_labs(x = \"Have more children\", y = \"Married Women\", title = \"Plot 1A: Married women aged 21-35 who have more children\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nComments- Most of the married women in the dataset have 2 children and only less than half of them have more than 2.\n\n## Visualising ages of the women\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_modified %>% \n  gf_boxplot(morekids ~ age, orientation = \"y\", color = \"red\", fill = \"pink\", alpha = 0.8) %>% \n  gf_labs(x = \"Have more children\", y = \"Age of married women\", title = \"Plot 1B: Ages of married women who have more than 2 children\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nComments- The median age of women who have 2 children and the ones who have more is the same which is 31 years. The age range of both seem to be similar (2 children- 29-33 and 2+ children- 28-33) There some outliers in cases of married women who have more than 2 children at ages of 21 and 22.\n\n## Visualising race of the women\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_modified %>% \n  gf_bar( ~ afam, color = \"navy\", fill = \"lightblue\") %>% \n  gf_labs(x = \"Have more children\", y = \"African American Married Women\", title = \"Plot 1C: African American Married Women who have more than 2 children\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nComments- Most African-American married women have only 2 children.\n\n## Visualising no of working weeks of the women in 1979\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_modified %>% \n  gf_bar( ~ work, color = ~ morekids, fill = ~ morekids) %>% \n  gf_labs(x = \"No of weeks worked\", y = \"Married Women\", title = \"Plot 1D: Weeks Worked by Married Women with 2 or more Children in 1979\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nComments- A good number of women worked all year round but most of the married women did not work all year round suggesting women with 2 or more children prefer not to work.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}