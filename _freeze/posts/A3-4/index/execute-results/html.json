{
  "hash": "70a34d3287457178fb8fdd3ca8164b08",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Assignment 3-4\"\n---\n\n## Introduction\n\nI am going to create network visualisations of The Famous Zachary Karate Club dataset\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show me the Code\"}\nlibrary(tidyverse)\nlibrary(igraph) \nlibrary(tidygraph) \nlibrary(ggraph) \nlibrary(graphlayouts) \n\nlibrary(tinytable)\n```\n:::\n\n\n## Reading The Famous Zachary Club dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"karate\",package= \"igraphdata\")\nkarate\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThis graph was created by an old(er) igraph version.\nℹ Call `igraph::upgrade_graph()` on it to use with the current igraph version.\nFor now we convert it on the fly...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nIGRAPH 4b458a1 UNW- 34 78 -- Zachary's karate club network\n+ attr: name (g/c), Citation (g/c), Author (g/c), Faction (v/n), name\n| (v/c), label (v/c), color (v/n), weight (e/n)\n+ edges from 4b458a1 (vertex names):\n [1] Mr Hi  --Actor 2  Mr Hi  --Actor 3  Mr Hi  --Actor 4  Mr Hi  --Actor 5 \n [5] Mr Hi  --Actor 6  Mr Hi  --Actor 7  Mr Hi  --Actor 8  Mr Hi  --Actor 9 \n [9] Mr Hi  --Actor 11 Mr Hi  --Actor 12 Mr Hi  --Actor 13 Mr Hi  --Actor 14\n[13] Mr Hi  --Actor 18 Mr Hi  --Actor 20 Mr Hi  --Actor 22 Mr Hi  --Actor 32\n[17] Actor 2--Actor 3  Actor 2--Actor 4  Actor 2--Actor 8  Actor 2--Actor 14\n[21] Actor 2--Actor 18 Actor 2--Actor 20 Actor 2--Actor 22 Actor 2--Actor 31\n[25] Actor 3--Actor 4  Actor 3--Actor 8  Actor 3--Actor 9  Actor 3--Actor 10\n+ ... omitted several edges\n```\n\n\n:::\n:::\n\n\n## Inspecting The Famous Zachary Karate Club dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(karate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nClass 'igraph'  hidden list of 10\n $ : num 34\n $ : logi FALSE\n $ : num [1:78] 1 2 3 4 5 6 7 8 10 11 ...\n $ : num [1:78] 0 0 0 0 0 0 0 0 0 0 ...\n $ : num [1:78] 0 1 16 2 17 24 3 4 5 35 ...\n $ : num [1:78] 0 1 2 3 4 5 6 7 8 9 ...\n $ : num [1:35] 0 0 1 3 6 7 8 11 15 17 ...\n $ : num [1:35] 0 16 24 32 35 37 40 41 41 44 ...\n $ :List of 4\n  ..$ : num [1:3] 1 0 1\n  ..$ :List of 3\n  .. ..$ name    : chr \"Zachary's karate club network\"\n  .. ..$ Citation: chr \"Wayne W. Zachary. An Information Flow Model for Conflict and Fission in Small Groups. Journal of Anthropologica\"| __truncated__\n  .. ..$ Author  : chr \"Wayne W. Zachary\"\n  ..$ :List of 4\n  .. ..$ Faction: num [1:34] 1 1 1 1 1 1 1 1 2 2 ...\n  .. ..$ name   : chr [1:34] \"Mr Hi\" \"Actor 2\" \"Actor 3\" \"Actor 4\" ...\n  .. ..$ label  : chr [1:34] \"H\" \"2\" \"3\" \"4\" ...\n  .. ..$ color  : num [1:34] 1 1 1 1 1 1 1 1 2 2 ...\n  ..$ :List of 1\n  .. ..$ weight: num [1:78] 4 5 3 3 3 3 2 2 2 3 ...\n $ :<environment: 0x0000020c1141fa48> \n```\n\n\n:::\n:::\n\n\n## Data Dictionary\n\nname:\nIdentifier for each actor in the club\n\nlabel: \nShort label used for plotting\t\n\nFaction:\nFaction membership of the actor after the club split\t\n\ncolor:\nVisual for faction membership\t\n\nweight:\nNumber of shared activities between two members\n\n## Converting the igraph object to tidygraph object\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkarate_tbl <- as_tbl_graph(karate) \n\nkarate_tbl\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tbl_graph: 34 nodes and 78 edges\n#\n# An undirected simple graph with 1 component\n#\n# Node Data: 34 × 4 (active)\n   Faction name     label color\n     <dbl> <chr>    <chr> <dbl>\n 1       1 Mr Hi    H         1\n 2       1 Actor 2  2         1\n 3       1 Actor 3  3         1\n 4       1 Actor 4  4         1\n 5       1 Actor 5  5         1\n 6       1 Actor 6  6         1\n 7       1 Actor 7  7         1\n 8       1 Actor 8  8         1\n 9       2 Actor 9  9         2\n10       2 Actor 10 10        2\n# ℹ 24 more rows\n#\n# Edge Data: 78 × 3\n   from    to weight\n  <int> <int>  <dbl>\n1     1     2      4\n2     1     3      5\n3     1     4      3\n# ℹ 75 more rows\n```\n\n\n:::\n:::\n\n\n## Social Connections within the members of The Famous Zachary Karate Club\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkarate_tbl %>% \n  \n  activate(nodes) %>% \n  mutate(degree = centrality_degree()) %>% \n  \n  ggraph(layout = \"fr\")+\n  geom_node_point(aes(fill = as.factor(Faction), size = degree), shape = 25)+\n  geom_node_text(aes(label = name), size = 4, repel = T)+\n  geom_edge_link0()+\n  scale_fill_brewer(palette = \"Dark2\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\nComments\n\nThis network shows how the members of a university's karate club are connected through the various shared activities. It shows clear club division (through colour) between two groups (Factions). Only a few people have connections across the faction who keep the club connected, the rest have connections only within their faction. Mr Hi and John A are at the centers of the two factions (leaders in their respective faction) and have the most connections , implying they have the most influence. Mr Hi and John A are both connected to each and everyone in their specific faction implying they are key figures and have the strongest influence in their respective factions.\n\n## Strength of social Connections within the members of The Famous Zachary Karate Club\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkarate_tbl %>% \n  \n  ggraph(layout = \"fr\")+\n  geom_edge_link0(aes(linewidth = weight, colour = weight))+\n  geom_node_point(aes(fill = as.factor(Faction)), size = 4, shape = 25)+\n  geom_node_text(aes(label = name), size = 4, repel = T)+\n  scale_fill_brewer(palette = \"Dark2\")+\n  \n  theme(legend.text  = element_text(size = 5),\n        legend.title = element_text(size = 6),\n        legend.key.size = unit(0.4, \"cm\"),\n        legend.position =\"bottom\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The `trans` argument of `continuous_scale()` is deprecated as of ggplot2 3.5.0.\nℹ Please use the `transform` argument instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\nComments\n\nThe strongest connections (thick and lighter blue) are mostly present between people within the same faction, implying those people have more shared activities with people from their specific faction. Mr Hi and John A have the strongest connections within their factions, implying they have had a lot of interactions as they are leaders of the factions. Faction 2 (coloured in orange) show stronger connections withim them as compared to faction 1 (coloured in green), implying faction 2 had a tighter relationship aming the members.\n\n## Most Influential people within the members of The Famous Zachary Karate Club\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkarate_tbl %>% \n  \n  activate(nodes) %>% \n  mutate(degree = centrality_degree()) %>% \n  \n  ggraph(layout = \"linear\", circular = TRUE) +\n  geom_edge_link0() +\n  geom_node_point(aes(size = degree, fill = as.factor(Faction)), shape = 25) +\n  geom_node_text(aes(label = name), size = 4, repel = T)+\n  scale_fill_brewer(palette = \"Dark2\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\nComments\n\nMr Hi and John A are the most connected members and hold the most influence based on the web of connections they have. Most of the lines that connect to Mr Hi and John A are from members of their respective factions, suggesting strong dependence of the factions on their leaders. Actor 13 has a sole connection, only to his faction leader implying they have the weakest influence with the least number of connections. There are also a few other members who have only 2-3 connections (one of them being to the leader), also implying they have less influence.\n\n## Connections within The Famous Zachary Karate Club that it depends on\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkarate_tbl %>% \n  \n  activate(edges) %>% \n  mutate(between = centrality_edge_betweenness()) %>% \n  \n  ggraph(layout = \"kk\")+\n  geom_edge_link0(aes(linewidth = between), colour = \"lightblue\")+\n  geom_node_point(aes(fill = as.factor(Faction)), size =3, shape = 25)+\n  geom_node_text(aes(label = name), size = 4, repel = T)+\n  scale_fill_brewer(palette = \"Dark2\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\nComments\n\nOnly a few connections are very important based on the betweeness between the members (shown by the thicker lines), suggesting that the members depend on these connections to stay connected. Most of the thick lines (showing strong betweeness) surround Mr Hi and John A as they are leaders and shows that most connections pass through them. Some members may not have connections with strong betweeness (thick lines) but removing them would very much affect the club. Like in the case of Actor 31, they do not have connections with particularly strong betweeness but removing them would affect the club as they connect a few members of the club who further connect to other members.\n\n## Leaders of the factions of The Famous Zachary Karate Club\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkarate %>%\n  ggraph(layout = \"focus\", focus = 1) +\n  geom_edge_link0(aes(linewidth = weight), colour = \"lightblue\")+\n  geom_node_point(aes(fill = as.factor(Faction)), size = 4, shape = 25)+\n  geom_node_text(aes(label = name), size = 4, repel = T)+\n  scale_fill_brewer(palette = \"Dark2\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\nComments\n\nThrough this network visualisations, one can clearly see the Mr Hi and John A have the most important connections as they sit at the centre of their respective faction and the \"focus\" is on them. Removing either of them would largely affect the club as most of the connections largely depend on them. They also have some connections across the faction which acts as a strong link between them.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}